# Конфигурация для анализа новостей

# Параметры подключения к БД (можно переопределить через .env)
db:
  host: ${POSTGRES_HOST}
  port: ${POSTGRES_PORT}
  user: ${POSTGRES_USER}
  password: ${POSTGRES_PASSWORD}
  database: ${POSTGRES_DB}
  table_name: news

# Параметры анализа
analysis:
  # Окно анализа в часах
  time_window_hours: 24
  # Минимальный размер кластера для HDBSCAN (уменьшен для лучшего выявления тем)
  min_cluster_size: 2
  # Количество топ-тем для отчета
  top_narratives: 8
  # Использовать только заголовки для скорости (true) или заголовки + описание (false)
  use_titles_only: false

# Предобработка текста
preprocessing:
  # Дополнительные стоп-слова для русского языка
  stopwords_extra:
    # Общие слова для новостей
    - "новость"
    - "сообщает"
    - "заявил"
    - "отметил"
    - "сообщил"
    - "сказал"
    - "по словам"
    - "как сообщает"
    - "как отмечает"
    - "по данным"
    - "по информации"
    - "информирует"
    - "передает"
    - "пишет"
    - "сообщили"
    - "заявили"
    - "отметили"
    - "рассказал"
    - "рассказала"
    - "сообщает"
    - "стало известно"
    - "известно"
    - "сообщается"
    # Предлоги и союзы
    - "в"
    - "из"
    - "на"
    - "для"
    - "по"
    - "а"
    - "от"
    - "с"
    - "у"
    - "о"
    - "к"
    - "до"
    - "после"
    - "перед"
    - "между"
    - "во"
    - "над"
    - "или"
    - "и"
    - "если"
    - "то"
    - "либо"
    - "нибудь"
    - "кое"
    - "как"
    - "из-за"
    - "за"
    - "об"
    - "под"
    - "при"
    - "без"
    - "до"
    - "что"
    - "это"
    - "его"
    - "её"
    - "их"
    - "области"
    - "делу"
    - "долиной"
    # Дополнительные стоп-слова для русского языка
    - "который"
    - "которая"
    - "которое"
    - "которые"
    - "которого"
    - "которой"
    - "которым"
    - "которыми"
    - "также"
    - "однако"
    - "хотя"
    - "несмотря"
    - "несмотря на"
    - "тем не менее"
    - "более"
    - "менее"
    - "очень"
    - "слишком"
    - "довольно"
    - "достаточно"
    - "почти"
    - "практически"
    - "абсолютно"
    - "совершенно"
    - "полностью"
    - "целиком"
    - "весь"
    - "вся"
    - "всё"
    - "все"
    - "целый"
    - "весьма"
    - "весьма"
    - "сильно"
    - "слабый"
    - "слабая"
    - "слабое"
    - "слабые"
  # Минимальная длина слова (увеличена для исключения 2-х буквенных слов)
  min_word_length: 3
  # Максимальная длина слова (увеличена для составных слов)
  max_word_length: 30

# Векторизация
vectorization:
  # Максимальное количество признаков для TF-IDF (увеличено для лучшего качества)
  max_features: 15000
  # Минимальная частота документа для слова (уменьшена для большего словаря)
  min_df: 1
  # Максимальная частота документа для слова (доля)
  max_df: 0.98

# Кластеризация HDBSCAN
clustering:
  # Минимальный размер кластера (уменьшен для лучшего выявления тем)
  min_cluster_size: 2
  # Минимальные образцы для кластера (уменьшено для более гибкой кластеризации)
  min_samples: 1
  # Метрика расстояния
  metric: cosine

# Вывод результатов
output:
  # Директория для сохранения отчетов
  reports_dir: "./storage/reports"
  # Директория для логов
  logs_dir: "./storage/logs"
  # Формат даты в имени файла
  date_format: "%Y-%m-%d"
