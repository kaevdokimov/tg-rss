# Конфигурация для анализа новостей

# Параметры подключения к БД (можно переопределить через .env)
db:
  host: ${POSTGRES_HOST}
  port: ${POSTGRES_PORT}
  user: ${POSTGRES_USER}
  password: ${POSTGRES_PASSWORD}
  database: ${POSTGRES_DB}
  table_name: news

# Параметры анализа
analysis:
  # Окно анализа в часах
  time_window_hours: 24
  # Минимальный размер кластера для HDBSCAN
  min_cluster_size: 5
  # Количество топ-тем для отчета
  top_narratives: 5
  # Использовать только заголовки для скорости (true) или заголовки + описание (false)
  use_titles_only: true

# Предобработка текста
preprocessing:
  # Дополнительные стоп-слова для русского языка
  stopwords_extra:
    - "новость"
    - "сообщает"
    - "заявил"
    - "отметил"
    - "сообщил"
    - "сказал"
    - "по словам"
    - "как сообщает"
    - "как отмечает"
    - "по данным"
    - "по информации"
  # Минимальная длина слова
  min_word_length: 3
  # Максимальная длина слова
  max_word_length: 20

# Векторизация
vectorization:
  # Максимальное количество признаков для TF-IDF
  max_features: 5000
  # Минимальная частота документа для слова
  min_df: 2
  # Максимальная частота документа для слова (доля)
  max_df: 0.95

# Кластеризация HDBSCAN
clustering:
  # Минимальный размер кластера
  min_cluster_size: 5
  # Минимальные образцы для кластера
  min_samples: 3
  # Метрика расстояния
  metric: cosine

# Вывод результатов
output:
  # Директория для сохранения отчетов
  reports_dir: "./storage/reports"
  # Директория для логов
  logs_dir: "./storage/logs"
  # Формат даты в имени файла
  date_format: "%Y-%m-%d"
