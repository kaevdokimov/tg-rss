# –ò–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Telegram

## –û–±–Ω–æ–≤–ª–µ–Ω–∏—è

### 1. –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–æ —Å –æ–¥–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –≤ –¥–µ–Ω—å (00:00) –Ω–∞ –¥–≤–∞ –∑–∞–ø—É—Å–∫–∞: **12:00 –∏ 19:00**
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≤—Ä–µ–º–µ–Ω –∑–∞–ø—É—Å–∫–∞ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `ANALYZER_SCHEDULE_TIMES`
- ‚úÖ –§–æ—Ä–º–∞—Ç: `"HH:MM,HH:MM"` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `"12:00,19:00"`)

### 2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –º–æ–¥—É–ª—å `telegram_notifier.py` –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Ç—á–µ—Ç–æ–≤
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç—á–µ—Ç–∞ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
- ‚úÖ –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–∞ –¥–ª—è Telegram (Markdown)
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–±–∏–≤–∫–∏ –¥–ª–∏–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (–ª–∏–º–∏—Ç 4096 —Å–∏–º–≤–æ–ª–æ–≤)

### 3. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
  - `ANALYZER_SCHEDULE_TIMES` - —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞
  - `TELEGRAM_API_KEY` - —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ—Ç –∂–µ, —á—Ç–æ –∏ –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –±–æ—Ç–∞)
  - `TELEGRAM_CHAT_ID` - ID —á–∞—Ç–∞ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é AdminChatID: 234501916)

### 4. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω `requests==2.31.0` –≤ `requirements.txt`

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è

–í `.env` —Ñ–∞–π–ª–µ (–≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞):
```env
# –î–≤–∞ –∑–∞–ø—É—Å–∫–∞ –≤ –¥–µ–Ω—å: 12:00 –∏ 19:00 (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
ANALYZER_SCHEDULE_TIMES=12:00,19:00

# –ò–ª–∏ –¥—Ä—É–≥–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 3 —Ä–∞–∑–∞ –≤ –¥–µ–Ω—å)
ANALYZER_SCHEDULE_TIMES=08:00,14:00,20:00
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram

–í `.env` —Ñ–∞–π–ª–µ:
```env
# –¢–æ–∫–µ–Ω –±–æ—Ç–∞ (—Ç–æ—Ç –∂–µ, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –±–æ—Ç–∞)
TELEGRAM_API_KEY=your_telegram_bot_token_here

# ID —á–∞—Ç–∞ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Ç—á–µ—Ç–æ–≤
# –ú–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —á–µ—Ä–µ–∑ @userinfobot –≤ Telegram
TELEGRAM_CHAT_ID=234501916
```

### –§–æ—Ä–º–∞—Ç –æ—Ç—á–µ—Ç–∞ –≤ Telegram

–û—Ç—á–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ —Å–ª–µ–¥—É—é—â–µ–º —Ñ–æ—Ä–º–∞—Ç–µ:
```
üìä –ö–ê–†–¢–ê –î–ù–Ø - 15.12.2024 12:00

üì∞ –í—Å–µ–≥–æ –Ω–æ–≤–æ—Å—Ç–µ–π: 150
üéØ –í—ã—è–≤–ª–µ–Ω–æ —Ç–µ–º: 5

–¢–û–ü-–¢–ï–ú–´ –î–ù–Ø:

1. –¢–µ–º–∞ #0 (25 –Ω–æ–≤–æ—Å—Ç–µ–π)
üîë –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞: –≤–æ–π–Ω–∞, –∫–æ–Ω—Ñ–ª–∏–∫—Ç, –ø–µ—Ä–µ–≥–æ–≤–æ—Ä—ã
üì∞ –ü—Ä–∏–º–µ—Ä—ã:
  ‚Ä¢ –ó–∞–≥–æ–ª–æ–≤–æ–∫ 1...
  ‚Ä¢ –ó–∞–≥–æ–ª–æ–≤–æ–∫ 2...

...
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ —Å –æ—Ç–ø—Ä–∞–≤–∫–æ–π –≤ Telegram
```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
docker exec -it news-analyzer env | grep TELEGRAM

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∞–Ω–∞–ª–∏–∑
make analyzer-run
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏
–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
```bash
make analyzer-logs | grep -i telegram
```

## –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ Telegram

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É, –ø—Ä–æ—Å—Ç–æ –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
```env
# –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –∏–ª–∏ —É–¥–∞–ª–∏—Ç–µ
# TELEGRAM_API_KEY=...
# TELEGRAM_CHAT_ID=...
```

–ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Ä–∞–±–æ—Ç–∞—Ç—å, –Ω–æ –æ—Ç—á–µ—Ç—ã –Ω–µ –±—É–¥—É—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å—Å—è –≤ Telegram.
