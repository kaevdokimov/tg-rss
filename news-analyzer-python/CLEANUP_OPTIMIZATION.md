# –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –æ—á–∏—Å—Ç–∫–∏ Python –º—É—Å–æ—Ä–∞ –∏ –ø–µ—Ä–µ–Ω–æ—Å —Å–±–æ—Ä–∫–∏ –≤ GitHub Actions

## –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. –£–ª—É—á—à–µ–Ω–∞ –æ—á–∏—Å—Ç–∫–∞ Python –º—É—Å–æ—Ä–∞

#### –í builder stage:
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ `__pycache__` –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ `.pyc`, `.pyo` —Ñ–∞–π–ª–æ–≤
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ `.dist-info` –∏ `.egg-info` (—á–∞—Å—Ç–∏—á–Ω–æ, –æ—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ)

#### –í runtime stage:
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ `__pycache__` –∏–∑ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ `.pyc`, `.pyo`, `.pyd` —Ñ–∞–π–ª–æ–≤
- ‚úÖ –û—á–∏—Å—Ç–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏–∑ `.dist-info` (RECORD, INSTALLER, REQUESTED)
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ –∏–∑ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤ (`tests`, `test`, `*.tests` –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏)
- ‚úÖ –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ pip –∏ NLTK
- ‚úÖ –û—á–∏—Å—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

### 2. –ü–µ—Ä–µ–Ω–æ—Å —Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–∞ –≤ GitHub Actions

#### –î–æ–±–∞–≤–ª–µ–Ω –Ω–æ–≤—ã–π job `docker-build-analyzer`:
- ‚úÖ –°–æ–±–∏—Ä–∞–µ—Ç –æ–±—Ä–∞–∑ news-analyzer –≤ GitHub Actions runners
- ‚úÖ –ü—É–±–ª–∏–∫—É–µ—Ç –æ–±—Ä–∞–∑ –≤ GitHub Container Registry
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è —Å–±–æ—Ä–∫–∏
- ‚úÖ –¢–µ–≥–∏: `latest` –∏ `${{ github.sha }}`

#### –ò–∑–º–µ–Ω–µ–Ω –ø—Ä–æ—Ü–µ—Å—Å –¥–µ–ø–ª–æ—è:
- ‚úÖ –£–±—Ä–∞–Ω–∞ –ª–æ–∫–∞–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- ‚úÖ –£–±—Ä–∞–Ω–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `news-analyzer-python`
- ‚úÖ –û–±—Ä–∞–∑ —Ç–æ–ª—å–∫–æ pull'–∏—Ç—Å—è –∏–∑ registry
- ‚úÖ –ë—ã—Å—Ç—Ä–µ–µ –¥–µ–ø–ª–æ–π (–Ω–µ –Ω—É–∂–Ω–æ —Å–æ–±–∏—Ä–∞—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)

#### –û–±–Ω–æ–≤–ª–µ–Ω docker-compose.yml:
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–æ —Å `build:` –Ω–∞ `image:` (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ–±—Ä–∞–∑ –∏–∑ registry)
- ‚úÖ –û–±—Ä–∞–∑: `ghcr.io/${GITHUB_REPOSITORY_OWNER}/news-analyzer:latest`

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
- ‚ö° –ë—ã—Å—Ç—Ä–µ–µ –¥–µ–ø–ª–æ–π (–Ω–µ –Ω—É–∂–Ω–æ —Å–æ–±–∏—Ä–∞—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)
- ‚ö° –ú–µ–Ω—å—à–µ –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- ‚ö° –ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ —Å–±–æ—Ä–∫–∏ (GitHub Actions)

### –†–∞–∑–º–µ—Ä –æ–±—Ä–∞–∑–∞:
- üì¶ –ú–µ–Ω—å—à–µ —Ä–∞–∑–º–µ—Ä –∑–∞ —Å—á–µ—Ç —É–ª—É—á—à–µ–Ω–Ω–æ–π –æ—á–∏—Å—Ç–∫–∏
- üì¶ –£–¥–∞–ª–µ–Ω—ã —Ç–µ—Å—Ç—ã –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏–∑ –ø–∞–∫–µ—Ç–æ–≤
- üì¶ –£–¥–∞–ª–µ–Ω—ã –∫—ç—à–∏ –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:
- ‚úÖ –ï–¥–∏–Ω–∞—è —Å–±–æ—Ä–∫–∞ –¥–ª—è –≤—Å–µ—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π
- ‚úÖ –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–∑–æ–≤ —á–µ—Ä–µ–∑ SHA –∫–æ–º–º–∏—Ç–∞
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è —Å–±–æ—Ä–∫–∏

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–±—Ä–∞–∑–æ–≤ –≤ registry

```
ghcr.io/{owner}/news-bot:latest
ghcr.io/{owner}/news-bot:{sha}

ghcr.io/{owner}/news-analyzer:latest
ghcr.io/{owner}/news-analyzer:{sha}
```

## –ü—Ä–æ—Ü–µ—Å—Å –¥–µ–ø–ª–æ—è

1. **GitHub Actions —Å–æ–±–∏—Ä–∞–µ—Ç –æ–±—Ä–∞–∑—ã:**
   - `docker-build` ‚Üí —Å–æ–±–∏—Ä–∞–µ—Ç news-bot
   - `docker-build-analyzer` ‚Üí —Å–æ–±–∏—Ä–∞–µ—Ç news-analyzer

2. **–û–±—Ä–∞–∑—ã –ø—É–±–ª–∏–∫—É—é—Ç—Å—è –≤ registry:**
   - –û–±–∞ –æ–±—Ä–∞–∑–∞ —Å —Ç–µ–≥–∞–º–∏ `latest` –∏ `{sha}`

3. **–î–µ–ø–ª–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä:**
   - Pull –æ–±—Ä–∞–∑–æ–≤ –∏–∑ registry
   - –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ docker-compose
   - –û—á–∏—Å—Ç–∫–∞ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤

## –ü—Ä–æ–≤–µ—Ä–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ –æ–±—Ä–∞–∑–∞:
```bash
docker images | grep news-analyzer
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—á–∏—Å—Ç–∫–∏:
```bash
# –í –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ –ø—Ä–æ–≤–µ—Ä—è–µ–º –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –º—É—Å–æ—Ä–∞
docker exec -it news-analyzer find /home/appuser/.local -name "__pycache__" | wc -l
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 0 –∏–ª–∏ –æ—á–µ–Ω—å –º–∞–ª–æ
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã:
```bash
docker exec -it news-analyzer python test_dependencies.py
docker exec -it news-analyzer python test_connection.py
```

## –û—á–∏—Å—Ç–∫–∞ –ø—Ä–∏ –¥–µ–ø–ª–æ–µ

–ü—Ä–∏ –∫–∞–∂–¥–æ–º –¥–µ–ø–ª–æ–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è:
- –£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –æ–±—Ä–∞–∑–æ–≤
- –£–¥–∞–ª–µ–Ω–∏–µ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- –£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Å–µ—Ç–µ–π
- –£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö volumes
- –£–¥–∞–ª–µ–Ω–∏–µ build cache

–≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Å–µ—Ä–≤–µ—Ä –≤ —á–∏—Å—Ç–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏.
