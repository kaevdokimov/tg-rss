[defaults]
inventory = inventory/hosts.ini
host_key_checking = False
retry_files_enabled = False
gathering = smart
fact_caching = memory
stdout_callback = yaml
callback_whitelist = profile_tasks,timer
forks = 5
roles_path = ../roles:playbooks/roles

# Ansible Vault
# vault_password_file = .vault_password  # Для локального использования
# Для CI/CD vault пароль передается через переменную окружения
vault_identity_list = ~/.ansible/vault

# Inventory
inventory_plugins_enabled = host_list, script, auto, yaml, ini, toml

# Logging
log_path = ./logs/ansible.log
display_args_to_stdout = False
display_skipped_hosts = False

# Performance
internal_poll_interval = 0.001
fact_caching_timeout = 86400

# Security
deprecation_warnings = False
command_warnings = False
ansible_managed = "Ansible managed file - do not edit manually"

[ssh_connection]
ssh_args = -o ControlMaster=auto -o ControlPersist=300s -o StrictHostKeyChecking=no -o ServerAliveInterval=60 -o ServerAliveCountMax=10
pipelining = True
control_path_dir = /tmp/.ansible-cp
timeout = 300
